import{a4 as e,_ as s,a as i,k as a,o as n,b as o,e as r,i as d,I as l,w as t,f as m,g as p,x as c,y as u,r as f,X as y}from"./index.ad8f3002.js";import{_}from"./SwitchRoles.dd1cf5f0.js";const v=s=>{if(s&&s instanceof Array&&s.length>0){const i=e().roles,a=s;return i.some((e=>a.includes(e)))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1};const k={class:"app-container"},g={class:"permission-alert"},h=u(" 只有 "),C=u("admin"),b=u("可以看见这个 "),x=u(" v-permission=\"['admin']\" "),z={class:"permission-alert"},P=u(" 只有 "),w=u("editor"),R=u("可以看见这个 "),j=u(" v-permission=\"['editor']\" "),I={class:"permission-alert"},A=u(" 两者 "),L=u("admin"),S=u("和 "),X=u("editor"),q=u("都可以看见这个 "),B=u(" v-permission=\"['admin', 'editor']\" "),D=u(" 在某些情况下，不适合使用 v-permission。例如：element-plus 的 el-tab 或 el-table-column 以及其它动态渲染 dom 的场景。你只能通过手动设置 v-if 来实现。 "),E=u(" admin 可以看见这个 "),F=u(" v-if=\"checkPermission(['admin'])\" "),G=u(" editor 可以看见这个 "),H=u(" v-if=\"checkPermission(['editor'])\" "),J=u(" 两者 admin 和 editor 都可以看见这个 "),K=u(" v-if=\"checkPermission(['admin', 'editor'])\" ");var M=s(i({__name:"directive",setup(e){const s=a({key:1,handleRolesChange:()=>{s.key++}});return(e,i)=>{const a=f("el-tag"),u=f("el-tab-pane"),M=f("el-tabs"),N=y("permission");return n(),o("div",k,[r(_,{onChange:s.handleRolesChange},null,8,["onChange"]),(n(),o("div",{key:s.key,style:{"margin-top":"30px"}},[d("div",null,[l((n(),o("span",g,[h,r(a,null,{default:t((()=>[C])),_:1}),b])),[[N,["admin"]]]),l((n(),m(a,{class:"permission-sourceCode",type:"info",size:"large"},{default:t((()=>[x])),_:1})),[[N,["admin"]]])]),d("div",null,[l((n(),o("span",z,[P,r(a,null,{default:t((()=>[w])),_:1}),R])),[[N,["editor"]]]),l((n(),m(a,{class:"permission-sourceCode",type:"info",size:"large"},{default:t((()=>[j])),_:1})),[[N,["editor"]]])]),d("div",null,[l((n(),o("span",I,[A,r(a,null,{default:t((()=>[L])),_:1}),S,r(a,null,{default:t((()=>[X])),_:1}),q])),[[N,["admin","editor"]]]),l((n(),m(a,{class:"permission-sourceCode",type:"info",size:"large"},{default:t((()=>[B])),_:1})),[[N,["admin","editor"]]])])])),(n(),o("div",{key:"checkPermission"+s.key,style:{"margin-top":"60px"}},[r(a,{type:"info",size:"large"},{default:t((()=>[D])),_:1}),r(M,{type:"border-card",style:{width:"550px","margin-top":"60px"}},{default:t((()=>[p(v)(["admin"])?(n(),m(u,{key:0,label:"admin"},{default:t((()=>[E,r(a,{class:"permission-sourceCode",type:"info"},{default:t((()=>[F])),_:1})])),_:1})):c("",!0),p(v)(["editor"])?(n(),m(u,{key:1,label:"editor"},{default:t((()=>[G,r(a,{class:"permission-sourceCode",type:"info"},{default:t((()=>[H])),_:1})])),_:1})):c("",!0),p(v)(["admin","editor"])?(n(),m(u,{key:2,label:"admin 和 editor"},{default:t((()=>[J,r(a,{class:"permission-sourceCode",type:"info"},{default:t((()=>[K])),_:1})])),_:1})):c("",!0)])),_:1})]))])}}}),[["__scopeId","data-v-6aac19ea"]]);export{M as default};
