import{_ as e}from"./index.2ded60fb.js";import{Q as a,_ as l,a as d,k as o,m as t,N as u,S as r,b as s,e as n,w as i,g as m,I as p,f as c,E as f,r as I,o as _,F as g,n as v,y as V,X as b,z as y,A as F,i as h}from"./index.ad8f3002.js";import{g as w}from"./getQuery.06af59d7.js";import{a as U,h as N}from"./upload.e25db3d7.js";import"./user.153530b9.js";const E={class:"manager-operate"},k=(e=>(y("data-v-12285126"),e=e(),F(),e))((()=>h("h4",null,"核价团队",-1))),j=V("文件上传"),q=V("保存录入");var M=l(d({__name:"managerOperate",setup(l){let d=o({fileId:null,isFirst:!0,auditFlowId:null,electronicEngineerId:void 0,engineerLossRateId:void 0,engineerWorkHourId:void 0,id:0,productId:null,productManageId:void 0,qualityBenchId:void 0,qualityToolId:void 0,resourceElecId:0,resourceStructId:0,structureEngineerId:void 0});const V=e=>{e.success&&(d.fileId=e.result.fileId)},y=[{value:!0,label:"是"},{value:!1,label:"否"}],F=async()=>{let e=await(l=d,a({url:"/api/services/app/UserInput/PostManagement",method:"post",data:l}));var l;(null==e?void 0:e.success)&&f.success("提交成功")};return t((()=>{})),u((async()=>{let e=w();if(e.auditFlowId&&(d.auditFlowId=Number(e.auditFlowId)),e.productId&&(d.productId=Number(e.productId)),e.auditFlowId){let o=await(l=e.auditFlowId,a({url:"/api/services/app/UserInput/getManagement",method:"get",data:{auditFlowId:l}}));Object.keys(d).forEach((e=>{d[e]=o.result[e]}))}var l})),r((()=>{})),(a,l)=>{const o=I("el-form-item"),t=I("el-col"),u=I("el-row"),r=I("el-card"),f=I("el-option"),h=I("el-select"),w=I("el-button"),M=I("el-upload"),R=I("el-form"),S=b("havedone");return _(),s("div",E,[n(R,{model:m(d)},{default:i((()=>[n(r,{class:"manager-operate__card"},{default:i((()=>[k,n(u,{gutter:20},{default:i((()=>[n(t,{span:6},{default:i((()=>[n(o,{label:"产品部-电子工程师:"},{default:i((()=>[n(m(e),{modelValue:m(d).electronicEngineerId,"onUpdate:modelValue":l[0]||(l[0]=e=>m(d).electronicEngineerId=e),roleName:"产品开发部-电子工程师"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"产品部-结构工程师:"},{default:i((()=>[n(m(e),{modelValue:m(d).structureEngineerId,"onUpdate:modelValue":l[1]||(l[1]=e=>m(d).structureEngineerId=e),roleName:"产品开发部-结构工程师"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"工程技术部-损耗率录入员:"},{default:i((()=>[n(m(e),{modelValue:m(d).engineerLossRateId,"onUpdate:modelValue":l[2]||(l[2]=e=>m(d).engineerLossRateId=e),roleName:"工程技术部-损耗率录入员"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"工程技术部-工序工时录入员::"},{default:i((()=>[n(m(e),{modelValue:m(d).engineerWorkHourId,"onUpdate:modelValue":l[3]||(l[3]=e=>m(d).engineerWorkHourId=e),roleName:"工程技术部-工序工时录入员"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"品质保证部-实验费用录入员:"},{default:i((()=>[n(m(e),{modelValue:m(d).qualityBenchId,"onUpdate:modelValue":l[4]||(l[4]=e=>m(d).qualityBenchId=e),roleName:"品质保证部-实验费用录入员"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"品质保证部-检具费用录入员:"},{default:i((()=>[n(m(e),{modelValue:m(d).qualityToolId,"onUpdate:modelValue":l[5]||(l[5]=e=>m(d).qualityToolId=e),roleName:"品质保证部-检具费用录入员"},null,8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"生产管理部-物流成本录入员:"},{default:i((()=>[n(m(e),{modelValue:m(d).productManageId,"onUpdate:modelValue":l[6]||(l[6]=e=>m(d).productManageId=e),roleName:"生产管理部-物流成本录入员"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),n(r,{class:"manager-operate__card"},{default:i((()=>[n(u,{gutter:20},{default:i((()=>[n(t,{span:6},{default:i((()=>[n(o,{label:"是否为首款产品:"},{default:i((()=>[n(h,{modelValue:m(d).isFirst,"onUpdate:modelValue":l[7]||(l[7]=e=>m(d).isFirst=e),placeholder:"Select"},{default:i((()=>[(_(),s(g,null,v(y,(e=>n(f,{key:e.label,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(t,{span:6},{default:i((()=>[n(o,{label:"TR-主方案:"},{default:i((()=>[n(M,{action:"/api/services/app/FileCommonService/UploadFile","on-progress":m(U),"on-error":m(N),"on-success":V,limit:1},{default:i((()=>[p((_(),c(w,{type:"primary"},{default:i((()=>[j])),_:1})),[[S]])])),_:1},8,["on-progress","on-error"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),p((_(),c(w,{onClick:F,type:"primary",style:{float:"right"},size:"large"},{default:i((()=>[q])),_:1})),[[S]])])}}}),[["__scopeId","data-v-12285126"]]);export{M as default};
