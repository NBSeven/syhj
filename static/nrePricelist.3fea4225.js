import{n as a,N as e}from"./request.f20567a2.js";import{g as t}from"./mouldSummaries.62f35173.js";import{g as r}from"./getQuery.06602360.js";import{_ as o,a as s,k as l,m as d,N as p,S as m,f as u,w as n,r as i,o as y,g as c,x as b,e as h,y as f,t as w,i as _,$ as C,a2 as v}from"./index.dbf6a720.js";const x=f("NRE核价表下载"),I={m:"4"};var k=o(s({__name:"nrePricelist",setup(o){const{auditFlowId:s,productId:k,year:P,hideBtn:g}=r(),q=l({handPieceCost:[],mouldInventory:[],qaqcDepartments:[],laboratoryFeeModels:[],travelExpense:[],restsCost:[],rmbAllCost:0,usdAllCost:0}),N=async()=>{try{const a=await e({Year:P,AuditFlowId:s,ModelCountId:k});v(a,"NRE核价表")}catch(a){}};return d((()=>{})),p((()=>{(async()=>{try{const{success:e,result:t}=await a({Id:s,productId:k});if(!e)throw Error();q.handPieceCost=t.handPieceCost||[],q.mouldInventory=t.mouldInventory||[],q.qaqcDepartments=t.qaqcDepartments||[],q.laboratoryFeeModels=t.laboratoryFeeModels||[],q.travelExpense=t.travelExpense||[],q.restsCost=t.restsCost||[]}catch(e){}})()})),m((()=>{})),(a,e)=>{const r=i("el-button"),o=i("el-table-column"),s=i("el-table"),l=i("el-card");return y(),u(l,{m:"2"},{default:n((()=>[c(g)?b("",!0):(y(),u(r,{key:0,type:"primary",class:"m-2",onClick:N},{default:n((()=>[x])),_:1})),h(l,{class:"margin-top",header:"手板件费用"},{default:n((()=>[h(s,{data:q.handPieceCost,style:{width:"100%"},border:"","summary-method":a=>c(t)(a,"手板件费用"),"show-summary":""},{default:n((()=>[h(o,{type:"index",width:"50"}),h(o,{prop:"partName",label:"手板件名称"}),h(o,{prop:"partNumber",label:"料号"}),h(o,{prop:"unitPrice",label:"单价"}),h(o,{prop:"quantity",label:"数量"}),h(o,{prop:"cost",label:"费用"}),h(o,{prop:"remark",label:"备注"})])),_:1},8,["data","summary-method"])])),_:1}),h(l,{class:"margin-top",header:"模具费用"},{default:n((()=>[h(s,{data:q.mouldInventory,style:{width:"100%"},border:"","summary-method":c(t),"show-summary":""},{default:n((()=>[h(o,{type:"index",width:"50"}),h(o,{prop:"modelName",label:"模具名称"}),h(o,{prop:"moldCavityCount",label:"模穴数"}),h(o,{prop:"unitPrice",label:"单价"}),h(o,{prop:"count",label:"数量"}),h(o,{prop:"cost",label:"费用"}),h(o,{prop:"remark",label:"备注"})])),_:1},8,["data","summary-method"])])),_:1}),h(l,{class:"margin-top",header:"实验费用"},{default:n((()=>[h(s,{data:q.laboratoryFeeModels,style:{width:"100%"},border:"","summary-method":a=>c(t)(a,"实验费用"),"show-summary":""},{default:n((()=>[h(o,{type:"index",width:"50"}),h(o,{prop:"testItem",label:"试验项目"}),h(o,{prop:"isThirdParty",label:"是否指定第三方"},{default:n((({row:a})=>[f(w(a.isThirdParty?"是":"否"),1)])),_:1}),h(o,{prop:"unitPrice",label:"单价"}),h(o,{prop:"count",label:"数量"}),h(o,{prop:"allCost",label:"费用"}),h(o,{prop:"remark",label:"备注"})])),_:1},8,["data","summary-method"])])),_:1}),h(l,{class:"margin-top",header:"差旅费用"},{default:n((()=>[h(s,{data:q.travelExpense,style:{width:"100%"},border:"","summary-method":a=>c(t)(a,"差旅费用","cost"),"show-summary":""},{default:n((()=>[h(o,{type:"index",width:"50"}),h(o,{prop:"reasonsName",label:"事由"}),h(o,{prop:"peopleCount",label:"人数"}),h(o,{prop:"costSky",label:"费用/天"}),h(o,{prop:"skyCount",label:"天数"}),h(o,{prop:"cost",label:"费用"}),h(o,{prop:"remark",label:"备注"})])),_:1},8,["data","summary-method"])])),_:1}),h(l,{class:"margin-top",header:"其他费用"},{default:n((()=>[h(s,{data:q.restsCost,style:{width:"100%"},border:"","summary-method":a=>c(t)(a,"其他费用","cost"),"show-summary":""},{default:n((()=>[h(o,{type:"index",width:"50"}),h(o,{prop:"rroject",label:"项目"}),h(o,{prop:"cost",label:"费用"}),h(o,{prop:"remark",label:"备注"})])),_:1},8,["data","summary-method"])])),_:1}),_("div",I,"编制时间："+w(c(C)(new Date)),1)])),_:1})}}}),[["__scopeId","data-v-da9ad8f4"]]);export{k as default};
