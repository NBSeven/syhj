import{G as e,S as a}from"./service.e7f45126.js";import{a as t,M as l,m as r,N as n,S as o,f as u,w as d,r as i,o as s,e as c,i as m,y as f,E as p}from"./index.ca893667.js";const V={style:{float:"right",margin:"20px 0"}},y=f("提交"),b=t({__name:"rateEntry",setup(t){const f=l([]);r((()=>{})),n((()=>{b()})),o((()=>{}));const b=async()=>{try{const{success:a,result:t}=await e();if(!a)throw Error();if(t.rateEntryInfos.length>0)f.value=t.rateEntryInfos||[];else{(e=>{let a=(new Date).getFullYear(),t=[a];for(let l=1;l<e;l++)t.push(a+l);return t})(10).forEach((e=>{f.value.push({directManufacturingRate:0,indirectLaborRate:0,indirectDepreciationRate:0,indirectManufacturingRate:0,year:e})}))}}catch(a){}},R=async()=>{const{success:e}=await a({rateEntryInfos:f.value});e&&p.success("提交成功")};return(e,a)=>{const t=i("el-table-column"),l=i("el-input"),r=i("el-table"),n=i("el-button"),o=i("el-card");return s(),u(o,{header:"作业价格",class:"m-2"},{default:d((()=>[c(r,{data:f.value,style:{width:"100%","margin-top":"25px"},border:""},{default:d((()=>[c(t,{label:"年份",prop:"year"}),c(t,{label:"直接其他费用作业价格"},{default:d((({row:e})=>[c(l,{modelValue:e.directManufacturingRate,"onUpdate:modelValue":a=>e.directManufacturingRate=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),c(t,{label:"间接人工作业价格"},{default:d((({row:e})=>[c(l,{modelValue:e.indirectLaborRate,"onUpdate:modelValue":a=>e.indirectLaborRate=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),c(t,{label:"间接折旧作业价格"},{default:d((({row:e})=>[c(l,{modelValue:e.indirectDepreciationRate,"onUpdate:modelValue":a=>e.indirectDepreciationRate=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),c(t,{label:"间接其他费用作业价格"},{default:d((({row:e})=>[c(l,{modelValue:e.indirectManufacturingRate,"onUpdate:modelValue":a=>e.indirectManufacturingRate=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),m("div",V,[c(n,{type:"primary",onClick:R},{default:d((()=>[y])),_:1})])])),_:1})}}});export{b as default};
