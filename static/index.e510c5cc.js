import{a as e,u as a,k as t,m as l,N as o,S as s,r,o as n,b as i,e as d,w as m,y as u}from"./index.ca893667.js";import{g as c}from"./service.4e434bc0.js";import{C as f}from"./bom.18611f66.js";const p=u("点击下载SOR附件"),b=e({__name:"index",setup(e){const u=a(),b=t({sorFileName:"",fileId:null,text:""}),y=async()=>{const e=await f(b.fileId),a=new FileReader;a.readAsDataURL(e),a.onload=function(){let a=URL.createObjectURL(new Blob([e])),t=document.createElement("a");document.body.appendChild(t),t.href=a,t.download=b.sorFileName,t.target="_blank",t.click(),t.remove()}};return l((()=>{})),o((async()=>{let{auditFlowId:e}=u.query;if(e)try{const{result:a}=await c(e)||{};b.text=a.customerSpecialRequest,b.sorFileName=a.sorFileName,b.fileId=a.sorFileId}catch(a){}})),s((()=>{})),(e,a)=>{const t=r("el-input"),l=r("el-form-item"),o=r("el-button"),s=r("el-form");return n(),i("div",null,[d(s,{inline:""},{default:m((()=>[d(l,{label:"客户特殊性要求"},{default:m((()=>[d(t,{modelValue:b.text,"onUpdate:modelValue":a[0]||(a[0]=e=>b.text=e),type:"textarea"},null,8,["modelValue"])])),_:1}),d(l,{label:""},{default:m((()=>[d(o,{type:"primary",onClick:y},{default:m((()=>[p])),_:1})])),_:1})])),_:1})])}}});export{b as _};
